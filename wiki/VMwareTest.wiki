#summary taking the vmware image for a quick spin

see also [VMwareHome]

<wiki:toc max_depth="6" />

= Download the vmware player =

== Windows ==

Goto vmware player download page at http://www.vmware.com/download/player/download.html and download, install windows version(2.5.1 tested)

== Linux ==

Goto vmware player download page http://www.vmware.com/download/player/download.html and download the Linux version 2.5.1(the 32-bit, not 64-bit) .bundle file

Used the instructions at https://help.ubuntu.com/community/VMware/Player for guidance, only had to run the following line
{{{
gksudo bash ./VMware-Player-2.5.1-126130.i386.bundle
}}}

== Macintosh ==

see http://www.vmware.com/products/fusion

----

= Download the vmware image instance =

The latest vmware image(version 1.0, rar-compressed size x) is available at http://carocoops.org/vmware/x

This vmware image was developed on top of the FOSS geospatial vmware image(geostatistics package which includes 'R') available at http://gisvm.com ([http://www.vmware.com/appliances/directory/55606 appliance description]) - thanks to Ricardo Pinho.

While the Xenia scripts do not directly utilize/interact those included applications in the gisvm image at this time, I thought they represent the best existing collection of FOSS geospatial software for future development.

Start the vmware image on the vmware player by opening the associated .vmx file

----

= Startup issues = 

The instance is running an *openssh daemon* but with no hosts allowed in file /etc/hosts.allow - edit this service and related security files as necessary if needed.

The username associated with the xenia development is *xeniaprod* with password *xeniaprod999*  Modify this password as needed.

The username *user* has password *user999* although this user account is not utilized.  Modify this password as needed.

See the other gisvm related passwords [http://www.vmware.com/appliances/directory/55606 here] and modify as needed.

*sudo* all commands that need root access.

The *two crontabs* which are active are *root* which performs a nightly cleanup of files under directory /home/xeniaprod/tmp_web and *xeniaprod* which also performs file cleanup but more importantly runs the following main job hourly.

*/home/xeniaprod/cron/xeniaflow.sh*

The above listed file creates all the subsequent related products and should be referenced to understand the product creation flow.

*For the initial version, please line comment (# prefix) the crontab line which executes the line containing the call to execute xeniaflow.sh until you have made the below correct host oriented substitution for your instance.*

Xenia related log files are at /home/xeniaprod/tmp and cleared nightly.

Apache user(www-data) created related temporary files are at /home/xeniaprod/tmp_web and cleared nightly.

= Substitutions =

grep the code from the following directory to see the line substitutions you'll need to make(mainly relating to the particular host machine address the instance is run on).

{{{
cd /home/xeniaprod
grep -r "VM_CONFIG" * 
}}}

After making these substitutions, and re-enabling(if disabled/commented out) the user xeniaprod crontab process xeniaflow.sh, you begin to see the products on your host instance(substituting your http host address) populating as listed at [VMwareProducts].  The xeniaprod crontab executes once an hour at the top of the hour, so you may have to wait a few hours(or manually run/bash the file xeniaflow.sh) to start seeing results.

= Adding a new ObsKML feed =

The sample USGS and NERRS feeds are flowing correctly and you are ready to try adding another feed.

Note the following currently available ObsKML feeds at http://carocoops.org/obskml/feeds/
  * nos (National Ocean Service - Tides and Currents)
  * nws (National Weather Service)
  * usf (University of South Florida)
  * nccoos (North Carolina Coastal Ocean Observing System)
  * cormp (UNCS Coastal Ocean Research and Monitoring Program)
  * carocoops (Carolinas Coastal Ocean Observing and Prediction System)
  * wq  (this is Southeast USGS coastal stations)
  * nerrs (National Estuarine Research Reserve System)
  * vos (NOAA Volutary Observing Ships)
  * _can add more ObsKML feeds to an online catalog if community interest_

The following example demonstrates adding the hourly [http://www.ndbc.noaa.gov/ NDBC] ObsKML feed as available from 

http://carocoops.org/obskml/feeds/ndbc/ndbc_latest_obskml.zip

{{{
create nerrs folders (nerrs, nerrs/archive)
wget latest nerrs obskml
archive cleanup

add getObskml.sh
add styleLatest.sh

#check_status - array, graph spots
}}}

= Example scripts for generating ObsKML =

Here are some example scripts detailing how to create ObsKML from several data source types

http://nautilus.baruch.sc.edu/twiki_dmcc/bin/view/Main/ObsKMLGenerate

*Note that the ObsKML schema does not currently utilize an 'obskml:' namespace convention but may in a future version.*

If you have created an ObsKML feed that you would like to share please email me (jeremy.cothran@gmail.com) and I will add it to an online community catalog.