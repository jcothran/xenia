#summary vmware considerations and best practices

<wiki:toc max_depth="6" />

see also vmware documents [http://www.vmware.com/appliances/partner/vmware_ready/test_matrix.html test matrix] [http://www.vmware.com/files/pdf/vam_virtual_appliance_guidelines.pdf appliance guidelines]

= Security = 

_Try to keep the distributed image as secure as possible._

As an image or clone, any security weaknesses in one copy will be present in all copies until the image security issue is addressed or the image patched and updated.

Any personal/institutional information or passwords should not be included as part of the distributed image(remove/change before merge/distribution).


#system
users: root, user, xeniaprod
files: 

#postgres
users: postgres, xeniaprod
files: pg_hba.conf


= Storage = 

_Try to keep the distributed image physical disk size as small as possible._

Relevant applications and software should be included on the image, but large associated datasets should be referenced off-image with documentation regarding access as a separate link or download.

#system
/usr2/data/xeniaprod

#postgres
/usr2/pg_data

= Organization = 

_Try to keep the applications and their locations or associated crons as organized as possible._

For the Xenia related scripts, everything should be currently located under the directory branch */home/xeniaprod* and accessed via the user *xeniaprod* with an associated *crontab* for running user 'xeniaprod' scripts.

There is one user crontab entry under user 'root' relating to nightly *cleanup* of files generated by apache/web user 'www-data'.

The folders/scripts under /home/xeniaprod should reflect the same xenia project *svn* folder/scripts structure for consistency between the project and svn.  This will not be true for the initial version 1.0 release(svn will lag image scripts due to many conversion changes), but should be corrected in upcoming release.

= Code/Scripts = 

Try to make configuration easier by placing all configuration options and security information within the same or a few *config files* (say in XML format).  Failing this, try to use comment LABELS which are documented and easily seen and searched for in the code.

Try to make common code *flexible enough for reuse in a variety of possible contexts*.  For instance, would prefer to have one script with a few database flag options (Oracle,SQL Server, PostgreSQL, MySQL, Sqlite, etc) than several scripts which only vary by their database connection method and small differences in SQL syntax.