#summary QAQC issues and Xenia implementation

The Xenia schema currently has the following fields on the multi_obs table for tracking some basic QAQC type information with each row of observation data on the multi_obs table.
{{{
#table multi_obs
qc_id
qc_level
qc_flag
}}}

= qc_level, qc_flag =

In reference to the qc_level and qc_flag fields, also see the [http://trac.secoora.org/datamgmt/browser/docs/whitepapers/trunk/SEACOOS%20QA-QC%20Standards%20and%20Procedures%20Whitepaper.doc SECOORA QAQC documentation]

The valid values for the high/overview qc_level flag are easiest to discuss.  It represents an integer field with one of the following five possible values.
{{{
VALUE	CONDITION
-9	the data field is missing a value
0	the data quality is not evaluated
1	the data quality is bad
2	the data quality is questionable or suspect
3	the data quality is good
}}}

For the qc_flag, the below set of tests have been suggested, with the first two (data availability, sensor range) required.  An encoding has not been agreed upon.

{{{
#QA/QC Tests
Data Availability
Sensor Range
Gross Range
Climatological Range
Rate of Change
Nearest Neighbor
Other Comparison 1 
Other Comparison 2
...
}}}

'Other Comparisons' meaning would be described in qc metadata record documentation link - 
multi_obs.qc_id = metadata.row_id, metadata table row_id contains additional pointers to documentation formats,links and effective dates.

My suggestion would be to use a position-dependent string encoding (*test not evaluated = 0, test fail = 1, test pass = 3*) as to mimic the qc_level settings.  Also suggested is representing tests up through 'Other Comparison 1'(7 digits) although these last set of test may be unevaluated for some time to come and might act more as placeholders for later development.

Where the string qc_level = '3330000' would represent data which passed the first three tests for data availability, sensor range, gross range and the other tests were unevaluated.

qc_level = '3010000' would represent data which passed the first test, sensor range not evaluated and gross range test fail.

The above string could be shortened to just test fields which are being evaluated, the main concept being that the documentation of the string position and meaning is contained in the qc documentation link as referenced by the associated metadata.row_id = multi_obs.qc_id

= qc_id = 

_section under development_

The qc_id is a integer referencing a primary key row on the table metadata.row_id and its associated metadata fields.  The following would be a suggested sample metadata record for an ongoing quality control application.

{{{
#table metadata
row_id = 1

}}}  

----
= Secondary, Revisional QAQC

*Note:* This secondary,revisional level of quality control may be redeveloped under a *custom fields* type concept.  Please see discussion of that topic as it develops.

The Xenia schema currently includes a secondary repeat of the earlier discussed fields suffixed with '_2' as qc_id_2,qc_level_2,qc_flag_2

These fields are *optional* placeholder fields for a secondary or revisional level of applied qc and would operate in the same manner as the *primary* qc listed earlier, just reflecting the qc results as applied by another party or later process.

----

= Related Links =

NDBC
  * http://www.ndbc.noaa.gov/qc.shtml
  * http://www.ndbc.noaa.gov/handbook.pdf

Quality Assurance of Real-Time Ocean Data http://qartod.org 

SECOORA Whitepaper
http://trac.secoora.org/datamgmt/browser/docs/whitepapers/trunk/SEACOOS%20QA-QC%20Standards%20and%20Procedures%20Whitepaper.doc